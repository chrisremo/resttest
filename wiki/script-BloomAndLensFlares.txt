!Bloom and Lens Flares

Bloomとは明るい光源（例えば、閃光のような）からの光が周囲の物体に漏れるように見える光学効果である。$$Bloom and Lens Flares$$エフェクトは$$Bloom$$を追加したうえで、さらに非常に効率的な方法で$$Lens Flares$$を自動生成します。Bloomはシーンに大きな違いを生む効果であり、と[[HDR]] レンダリングと一緒に使用して、魔法や夢の中の世界のような印象を与える非常に特徴的な効果である。Bloom and Lens Flaresは、[[script-GlowEffect|グローエフェクト]] の機能拡張でありレンダリングパフォーマンスを犠牲にBloomにより細かい制御を提供しています。

このバージョンは廃止されることに注意してください：より柔軟な[[script-Bloom |Bloomエフェクト]] が4.0で導入されています。

Attach:ImageEffects./bloomAndFlaresExample2.png\\
例では$$Bloom and Lens Flares$$はScreenブレンドモードを使用して柔らかな光を与えてます。新しいアナモフィック　Lens Flaresタイプは映画の感覚を呼び起こすのに役立ちます。

その他の [[comp-ImageEffects|image effects]] 同様、この効果は Unity Pro 専用です。 必ず、[[HOWTO-InstallStandardAssets|Pro Standard Assets]] をインストールしてください。

!! プロパティ

||PROPS
||``Tweak Mode`` ||Lens Flaresなどの追加オプションについては、complexモードを選択します||
||``Blend mode`` ||カラーバッファにBloomを追加するために使用するメソッド。柔らかいScreenモードは、明るい画像のディテールを保持するのに良いですが、HDRでは動作しません。 ||
||``HDR`` ||BloomがHDRバッファを使用しているかどうかピクセル強度が、[0,1]の範囲から出るかもしれないので、異なった見た目になる。詳細は[[script-Tonemapping|トーンマッピング]] と[[HDR|HDR]] を参照して下さい。||
||``Cast lens flares`` ||自動Lens Flares生成を有効または無効にします。||

||``Intensity`` ||追加されたライトのグローバルライト強度（Bloom、Lens Flaresに影響します）。||
||``Threshhold`` |||画像領域のなかでこのしきい値より明るい領域はBloom（また潜在的にLens Flares）の影響を受けます。||
||``Blur iterations`` ||ガウス　ブラー（ぼかし）が適用される回数。反復回数が多いほど平滑性を向上させますが、周波数ノイズを隠すなどさらに処理時間がかかります。||
||``Blur spread`` ||ブラーの最大半径。パフォーマンスには影響しません。||
||``Use alpha mask`` ||アルファチャネルがBloom効果のマスクとして機能する程度。||

||``Lens flare mode`` ||Lens Flaresのタイプ。オプションは``Ghosting``、``Anamorphic``、あるいはふたつの組み合わせです。 ||
||``Lens flare mask`` ||画面の端でのLens Flaresにより画像の乱れを防ぐために使用されるマスク。||
||``Local intensity`` ||Lens Flaresだけに使用するローカル強度。||
||``Local threshold`` ||画像の部分がLens Flaresを受けるかを定義する累積ライト強度のしきい値。||
||``Stretch width`` ||アナモフィック　Lens Flaresの幅。||
||``Blur iterations`` ||アナモフィック　Lens Flaresにブラー（ぼかし）を適用する回数。反復回数が多いほど平滑性を向上させますが、さらに処理時間がかかります。||
||``Tint Color`` ||アナモフィック　フレアタイプのカラー調整||
||``1st-4th Color`` ||``Ghosting`` or ``Combined``が選択されたときのすべてのLens Flaresのカラー調整||

!!ブレンドモード：AddおよびScreen

ブレンドモードはオーバーレイ時に2つの画像を合成する方法を決定します。ベースの画像から各ピクセルは、オーバーレイ画像での対応する位置のピクセルと数学的に組み合わせます。UnityのイメージエフェクトはAdd、Screen二つのブレンドモードが用意されています。

!!!Addモード

画像がAddモードでブレンドされている場合、カラーチャネル（赤、緑、青）の値は、単純に足し合わされ、最大でも値は1となります。全体的な効果として最終的には、明るくない画像の領域を最も明るい部分に溶け込むことができます。最終的なイメージは色やディテールを失うため、Addモードは、まぶしいホワイトアウト効果が必要な場合に便利です。

!!!Screenモード

白いスクリーン上に同時2つのソース画像を投影する効果をシミュレートしているので、Screenモードと命名されています。各カラーチャネルは、別々に同じ値を合成します。まず、2つのソースピクセルのカラーチャネルの値が反転されます。（すなわち1から値を引き算します）次に、反転した2つ値が乗算され、その結果が反転されます。結果は、2つのソースピクセルのどちらよりも明るくなる一方で、最大の明るさになるために元の色のどちらか一つも最大の明るさであった場合のみになります。全体的な効果としては、ソース画像より多くのカラーバリエーションとディテールが保持されるため、Addモードよりも緩やかな効果につながります。

(:include imagefx-SM2:)
