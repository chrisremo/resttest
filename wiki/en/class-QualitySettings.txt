!画質設定

Unityは、レンダリングの画質レベルを設定することができます。一般的に言えば、画質はフレームレートを犠牲にしているのため、モバイル機器や古いハードウェアで最高画質をターゲットにすることはゲームプレイに悪影響を与えるため、正しいとはいえません。$$Quality Settings$$ は、^^Edit->Project Settings->Quality^^ は2つのメインエリアに分けることができます。上部には、次のマトリクスがあります：

Attach:QualSettingsTop.png

Unityには、簡単に参照できるように、画質オプションの組み合わせに名前をつけることができます。マトリクスの行により、各画質水準をどのプラットフォームに割り当てるかを選択することができます。マトリクスの下のDefault行は画質レベルそのものはではないが、各プラットフォームで使用されるデフォルトの画質レベルを設定します。（列に緑のチェックボックスは、現在、そのプラットフォームの選択レベルを表す）Unityは事前対応6つの画質レベルが付属していますが、マトリックスの下にあるボタンを使用して自分のレベルを追加することができます。不要な品質レベルを削除するには、ゴミ箱アイコン（右端の列）を使用することができます。

画質レベルの名前をクリックして編集のために選択することが出来ます。（マトリックスの下のパネルでクリック）

Attach:QualitySettingsBottom.png


画質レベルのために選ぶことができる画質オプションは次のとおりです：
||PROPS
||Name||画質レベルを参照するときに使用する名称||
||``Pixel Light Count``||フォワードレンダリング使用時の最大ピクセルライト数
||``Texture Quality``||テクスチャを最大解像度で表示するか、何分の一かで表示するか選択する（低い解像度は処理オーバーヘッドを減少させる）。選択肢は次のとおり __Full Res（フル解像度）__, __Half Res（1/2解像度）__, __Quarter Res（1/4解像度）__ and __Eighth Res（1/8解像度）__。
||``Anisotropic Textures``||異方性テクスチャの設定||
||>>>``Disabled``||異方性テクスチャは不使用||
||>>>``Per Texture``||異方性レンダリングを各テクスチャごとに有効化||
||>>>``Forced On``||異方性テクスチャを常に使用||
||``AntiAliasing``||アンチエイリアシングのレベル設定選択肢は__2x__、__4x__ 、__8x__ のマルチサンプリング||
||``Soft Particles``||ソフトブレンドをパーティクルに使用するか||
||``Shadows``||使用されるべき影の種類||
||>>>``Hard and Soft Shadows``||ハードとソフトの両方の影をレンダリング||
||>>>``Hard Shadows Only``||ハードの影のみレンダリング||
||>>>``Disable Shadows``||影がレンダリングされません。||
||``Shadow resolution``||影は異なる解像度でレンダリングすることができます：__Low__、__Medium__、__High__ 、__Very High__解像度が高いほど、処理オーバーヘッドは大きくなります。||
||``Shadow Projection``||ディレクショナル　ライトから影を投影する2つの異なる方法があります。__Close Fit__は高解像度の影をレンダリングするが、カメラのわずかな動きで揺れることがあります。__Stable Fit__は、低解像度の影をレンダリングするが、カメラの動きで揺れません。||
||``Shadow Cascades``||シャドウカスケードの数はゼロ、2または4に設定することができます。カスケードの数値が高いほど高品質が得られますが、処理オーバーヘッドを犠牲にします（詳細はディレクショナル　シャドウのページを参照してください）。||
||``Shadow Distance``||カメラから影が見える距離範囲。この距離を越えて投影される影はレンダリングされません。||
||``Blend Weights``||アニメーションの際にひとつの頂点に影響を与えることができるボーンの数。使用可能なオプションは、1つ、2つ、または4つのボーンです。||
||``VSync Count``||レンダリング処理をディスプレイのリフレッシュレートと同期させることでティアリングによる画像乱れ（下記参照）を避けることができる。すべての垂直ブランク（VBlank）と同期をとるか、ひとつおきに垂直ブランクと同期をとるか、まったく同期しないとか、選択することができます。||
||``LOD Bias``||LODレベルはオブジェクトの画面上のサイズに基づいて選ばれます。サイズが2つのLODレベルの間にある場合、より詳細か、より詳細でないか、2つのモデルのいずれかの方に偏りをもたせることができます。値は0から1までの小数として設定出来ます。0に近いほど、より詳細でないモデルに偏ります。||
||``Maximum LOD Level``||ゲームで使用される最大のLOD。これより高いLODを持つモデルは、使用されずビルド対象から外れます（ストレージとメモリ容量を節約）。||
||``Particle Raycast Budget``||パーティクルシステムの衝突のために使用するraycastsの最大数（Medium,Low品質）。[[ParticleSystemModules40|パーティクル衝突モジュール]] を参照のこと。||

!!ティアリング

ディスプレイ上の画像は連続して更新されるのではなく、Unityのフレーム更新のような定期的な間隔で発生します。しかし、Unityの更新は必ずしもディスプレイと同期していませんので、ディスプレイがまだ前のフレームをレンダリングしている最中にUnityが新しいフレームを発行してしまうことがありえます。この場合、フレームの変更が発生した画面の中ほどの位置に "ティアリング"と呼ばれる目に見える画像の乱れが発生します。

Attach:Tearing.png\\
ティアリングの再現例。画像の拡大部には、画像のシフト（横ずれ）がはっきりと映っています。'

Unityの設定により、ディスプレイが更新していないタイミング、いわゆる「垂直ブランク」のタイミングのみにフレームを切替えさせることが出来ます。画質設定（Quality Settings）のVSyncオプションにより、フレームの切替えをディスプレイの垂直ブランク、あるいはひとつおきの垂直ブランクと同期をとることが出来ます。後者は、ゲームでのフレームのレンダリング処理に要する時間が複数回のディスプレイ更新分だけ時間を要する場合に役に立ちます。

[[#fsaa]]
!!! アンチエイリアス

アンチエイリアス処理により、ポリゴンの端の見た目が改善されるため、「ギザギザ」でなくなりますが、画面上では滑らかになります。  しかし、グラフィック カードのパフォーマンスが犠牲になり、使用されるビデオ メモリが増えます (CPU の負担は増えません)。 アンチエイリアス処理のレベルにより、ポリゴンの端がどのくらい滑らかになるか (消費されるビデオ メモリの量) が決定されます。

Attach:AntiAliasingNone.png \\
アンチエイリアス処理を使用しないと、ポリゴンの端が「ギザギザ」になります

Attach:AntiAliasing6x.png \\
6 倍のアンチエイリアス処理を使用すると、ポリゴンの端が円滑になります


[[#softparticles]]
!!! ソフトパーティクル

ソフトパーティクルは、シーン中の物体同士の交点付近をフェードアウト処理します。見た目は良くなりますが、計算処理の負荷は高くなり（複雑なピクセルシェーダ）、かつ[[SL-DepthTextures | デプステクスチャ]] をサポートしているプラットフォームでしか動作しません。さらにレンダリングパスとして[[RenderTech-DeferredLighting |ディファード　ライティング]] を使用するか、あるいはカメラのレンダラをスクリプトからから[[SL-CameraDepthTexture|デプステクスチャ]] とする必要があります。

Attach:SoftParticlesOff.png \\
ソフトパーティクルを使用しないとシーンに交点がはっきりと描画されてしまいます。


Attach:SoftParticlesOn.png \\
ソフトパーティクルを使用するとシーンに交点がスムーズに描画されます。
